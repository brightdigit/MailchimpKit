//
// Generated by SwagGen
// https://github.com/yonaskolb/SwagGen
//

import Foundation

import PrchModel
/** Do particular authorization constraints around this collection limit creation of new instances? */
public struct CollectionAuthorization: Codable, Equatable, Content {

    /** How many total instances of this resource are allowed? This is independent of any filter conditions applied to the query. As a special case, -1 indicates unlimited. */
    public var maxInstances: Int

    /** May the user create additional instances of this resource? */
    public var mayCreate: Bool

    /** How many total instances of this resource are already in use? This is independent of any filter conditions applied to the query. Value may be larger than max_instances. As a special case, -1 is returned when access is unlimited. */
    public var currentTotalInstances: Int?

    public init(maxInstances: Int, mayCreate: Bool, currentTotalInstances: Int? = nil) {
        self.maxInstances = maxInstances
        self.mayCreate = mayCreate
        self.currentTotalInstances = currentTotalInstances
    }

    public init(from decoder: Decoder) throws {
        let container = try decoder.container(keyedBy: StringCodingKey.self)

        maxInstances = try container.decode("max_instances")
        mayCreate = try container.decode("may_create")
        currentTotalInstances = try container.decodeIfPresent("current_total_instances")
    }

    public func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: StringCodingKey.self)

        try container.encode(maxInstances, forKey: "max_instances")
        try container.encode(mayCreate, forKey: "may_create")
        try container.encodeIfPresent(currentTotalInstances, forKey: "current_total_instances")
    }

}
