//
// Generated by SwagGen
// https://github.com/yonaskolb/SwagGen
//

import Foundation

import PrchModel
/** Creates an account export with the given parameters. */
public struct CreateAnAccountExport: Codable, Equatable, Content {

    /** The stages of an account export to include. */
    public enum IncludeStages: String, Codable, Equatable, CaseIterable {
        case audiences = "audiences"
        case campaigns = "campaigns"
        case events = "events"
        case galleryFiles = "gallery_files"
        case reports = "reports"
        case templates = "templates"
    }

    /** The stages of an account export to include. */
    public var includeStages: [IncludeStages]

    /** An ISO 8601 date that will limit the export to only records created after a given time. For instance, the reports stage will contain any campaign sent after the given timestamp. Audiences, however, are excluded from this limit. */
    public var sinceTimestamp: DateTime?

    public init(includeStages: [IncludeStages], sinceTimestamp: DateTime? = nil) {
        self.includeStages = includeStages
        self.sinceTimestamp = sinceTimestamp
    }

    public init(from decoder: Decoder) throws {
        let container = try decoder.container(keyedBy: StringCodingKey.self)

        includeStages = try container.decodeArray("include_stages")
        sinceTimestamp = try container.decodeIfPresent("since_timestamp")
    }

    public func encode(to encoder: Encoder) throws {
        var container = encoder.container(keyedBy: StringCodingKey.self)

        try container.encode(includeStages, forKey: "include_stages")
        try container.encodeIfPresent(sinceTimestamp, forKey: "since_timestamp")
    }

}
